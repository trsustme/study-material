# Архитектура ОС GNU/Linux

## Операционная система
ОС включает:
- ядро
- команды и утилиты, которые позволяют использовать функционал ядра
- ПО с интерфейсом для использования команд и утилит

ПО бывает:
- прикладное(Firefox)
- системное(Postgres)
- ОС(Astra Linux)

ОС предоставляет интерфейс к устройствам и предоставляет инструменты для работы с ОС.

ОС класса GNU/Linux основан на ядре Linux.

## Ядро
Ядро - это интерфейс между железом и софтом.

Ядро управляет ресурсами - памятью и процессами.

Процессы ядра функционируют, когда центральный процессор находится в привилегированном режиме(супервизорный режим) -
кольцо защиты 0.

Пользовательские процессы используют виртуальные адреса памяти, которые отображаются в физические адреса посредством
устройства управлению памятью(MMU) ядром ОС.

Ядро Linux состоит из двух подсистем:
- подсистемы ввода/вывода, которые включают
    - драйверы файловых систем
    - драйверы символьных устройств
    - драйверы сетевых устройств
- подсистемы управления процессами(архитектурно зависимый код)
    - планировщик процессов
    - управление памятью

Ядро Linux имеет модульную архитектуру. При старте системы загружается часть модулей ядра(драйверов) и по мере
необходимости остальные модули загружаются потом.

На этапе сборки и конфигурации ядра определяются какие компоненты будут модулями, а какие частью основного ядра.

# Системные вызовы и системные библиотеки

Системный вызов(syscall) - это программный интерфейс, с помощью которого прикладные программы взаимодействуют с ядром.

Обращение к системным вызовам переключает режим работы процессора из пользовательского режима(кольцо 0) в режим
ядра(колько 3).

Системные вызовы реализуются через функции оболочки, которые написаны на C.

# Дистрибутивы Linux

Дистрибутив Linux - это комплект ПО:
- ОС на базе ядра Linux
- системное ПО
- прикладное ПО

Программный пакет - минимальный объект дистрибутива, который может быть собран в виде:
- бинарника(двоичного кода) - скомпилированная версия программы, содержащая исполняемые файлы и библиотеки
    - `*.deb`, `*.AppImage`
- исходники(исходный код) - текстовые файлы, содержащие исходный код программы, который требуется скомпилировать перед использованием
    - `*.tar.gz`, `*.zip`, `*.git`

Дистрибутивы Linux размещаются в репозиториях:
- локальных(на компьютере или сервере)
- сетевые(через интернет)

## Репозиторий Debian
Репозиторий Debian содержит 3 ветки, в котором размещается ПО, в зависимости от типа лицензии:
- main - свободное ПО
- contrib - свободное ПО, которое зависит от ПО, распространяемого по несвободным лицензиям
- non-free - проприетарное ПО, в двоичном коде без исходников. Ограничено лицензиями на использование и распространение.

# Дистрибутивы Astra Linux

Дистрибутивы Astra Linux - базируются на дистрибутивах Debian.
Astra Linux x.7 базируется на дистрибутиве Debian 10(Buster).

`Код_дистрибутива`.`Номер_очередного_обновления_ОС`.`Номер_оперативного_обновления`

Очередное обновление:
- поддержка современного оборудования
- поддержка актуальных требований безопасности
- реализация функционала

Оперативное обновление:
- устранение критических уязвимостей

## Репозитории Astra Linux Special Edition .7
- main(основной)
    - сертифицированные пакеты, в том числе реализующие функции безопасности информации
    - располагается на установочном диске
- base(базовый)
    - включает в себя main и дополнительные пакеты для средств разработки
    - необходим для сборки основного репозитория
- extended(расширенный)
    - включает совместимое с ОС Astra Linux дополнительное ПО
    - не сертифицировано
    - не для функций безопасности
- astra-ce(компонент расширенного репозитория)
    - пакеты, заменяющие пакеты из основного и базового репозиториев
- update
    - выпускаются для очередных обновлений

# Уровни защищенности ОС Astra Linux

1) Режим Базовый "Орел":
- не подлежит сертификации
- не для использования в информационных системах, в которых есть требования по защите информации
    - Дискреционное управление доступом(есть во всех линуксах)
    - Отключены средства SELinux и AppArmor(недоверенные)

2) Режим Усиленный "Воронеж"
- для обработки и защиты информации ограниченного доступа, за счет:
    - Мандатный контроль целостности(МКЦ)
    - Замкнутая программная среда(ЗПС)

3) Режим Максимальный "Смоленск"
- обеспечивает защиту информации любой степени секретности, за счет:
    - Мандатное управление доступом(МРД)
    - Гарантированное уничтожение информации(ГУИ)

# Определение версий ОС и ядра

Название и версия дистрибутива:
`cat /etc/astra_version`
`lsb_release -a`
`cat /etc/os-release`

Версия ОС:
`uname -r`

Аппаратная архитектура:
`uname -m`

Название и версия дистрибутива, версия ядра и наименование архитектуры:
`hostnamectl status`

Версия основной системной библиотеки:
`/lib/x86_64-linux-gnu/libc.so.6`

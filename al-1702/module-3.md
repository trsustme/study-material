# Назначение терминала. Виды терминалов

Терминал - устройство для последовательного ввода и вывода данных и предоставляющие пользовательский интерфейс.

Виды терминалов:
- аппаратные
- виртуальные
- всевдотерминалы

Системная консоль - такое устройство:
- на которое ядро ОС выводит свои сообщения
- которое позволяет осуществлять вход в систему в однопользовательском режиме
- которое может быть назначено, при загрузке ядра ОС

По умолчанию, системная консоль - активный виртуальный терминал - на котором работает пользователь

## Аппаратные терминалы

Используется редко.

Аппаратный текстовый терминал представляет собой:
- дисплей
- клавиатуру
- коммуникационный последоватльный порт
- встроенное программное обеспечение, поддерживающее обработку управляющих последовательностей символов
- настройку коммуникационного последоватльного порта

Существует два режима ввода/вывода для терминала:
1) Канонический(по умолчанию)
    - ввода данных построчно
    - можно редактировать строку
2) Неканонический
    - данные не группируются в строки, а передаются группами, состоящими из несколького количества байтов(символов)

## Виртуальные терминалы

Используют аппаратные устройства:
- клавиатура
- дисплей

Эмулятор терминала реализован в ядре ОС.

В Астра Линукс при установке с графическим окружением инициализируется 7 виртуальных терминалов. На 7-ом запускается
графическая среда.

Переключение между терминалами возможно
- с помощью сочетания клавиш Ctrl-Alt-(F1-F7)
- командой `chvt номер_терминала`

Каждому виртуальному терминалу tty1, ..., tty7 соответствует файл с тем же именем в каталоге /dev

Количество виртуальных терминалов задается в конфиг. файле /etc/default/console-setup - параметром `ACTIVE_CONSOLES="/dev/tty[1-6]"`

## Псевдотерминалы

Можно вызвать с помощью комбинации клавиш Alt-T.

Псевдотерминал представляет собой два виртуальных устройства:
- основной PTY - подключен к программному эмулятору терминала(xterm, fly-term)
- подчиненный PTY - взаимодействует с пользовательским процессом

Файл псевдотерминала находится в каталоге /dev/pts/1

# Настройка терминала

Определить имя текущего терминала:
`tty`

Просмотреть или изменить аттрибуты дисциплины линии используется:
`stty`

Просмотреть все аттрибуты дисциплины линии активного терминала:
`stty -a`
`ssty -a < /dev/pts/3`

Для искаженных символов:
Ctrl-j -> `stty sane` -> Ctrl-j

Описание различных терминалов хранится в базе данных terminfo(в бинарном виде)
/lib/terminfo

Вывести управляющие последовательности и их символьные последовательности:
`infocmp`

Переменная `TERM` сообщает запущенным процессам какой комплект управляющих последовательностей следует использовать
на данном терминале.
- виртуальные терминалы используют тип терминала linux
- графические эмуляторы терминала - xterm
